{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_2 = [\"value\"];\nconst _hoisted_3 = {\n  class: \"flex space-x-4 mt-1\"\n};\nconst _hoisted_4 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Selecci贸n de Vendedor \"), _createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"seller\",\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"Seleccionar Vendedor\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"seller\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedSeller = $event),\n    class: \"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\"\n  }, [_cache[4] || (_cache[4] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Elige un vendedor\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.sellers, seller => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: seller.id,\n      value: seller.id\n    }, _toDisplayString(seller.name), 9 /* TEXT, PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedSeller]])]), _createCommentVNode(\" Rango de Cartones \"), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"range\",\n    class: \"block text-sm font-medium text-gray-700\"\n  }, \"Rango de Cartones\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.rangeStart = $event),\n    type: \"number\",\n    id: \"rangeStart\",\n    placeholder: \"Desde\",\n    class: \"w-1/2 px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\",\n    min: \"1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.rangeStart, void 0, {\n    number: true\n  }]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.rangeEnd = $event),\n    type: \"number\",\n    id: \"rangeEnd\",\n    placeholder: \"Hasta\",\n    class: \"w-1/2 px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\",\n    min: \"1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.rangeEnd, void 0, {\n    number: true\n  }]])])]), _createCommentVNode(\" Bot贸n de Asignar \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.assignCartons && $options.assignCartons(...args)),\n    disabled: !$data.selectedSeller || !$data.rangeStart || !$data.rangeEnd || $data.rangeStart > $data.rangeEnd,\n    class: \"w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 transition duration-300\"\n  }, \" Asignar Cartones \", 8 /* PROPS */, _hoisted_4)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","for","id","_cache","$event","$data","selectedSeller","value","disabled","_Fragment","_renderList","sellers","seller","key","name","_hoisted_2","_hoisted_3","rangeStart","type","placeholder","min","number","rangeEnd","onClick","args","$options","assignCartons","_hoisted_4"],"sources":["D:\\Lotweb\\venta-cartones\\src\\components\\AssignCartons.vue"],"sourcesContent":["```vue\r\n<template>\r\n  <div class=\"space-y-4\">\r\n    <!-- Selecci贸n de Vendedor -->\r\n    <div>\r\n      <label for=\"seller\" class=\"block text-sm font-medium text-gray-700\">Seleccionar Vendedor</label>\r\n      <select\r\n        id=\"seller\"\r\n        v-model=\"selectedSeller\"\r\n        class=\"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\"\r\n      >\r\n        <option value=\"\" disabled>Elige un vendedor</option>\r\n        <option v-for=\"seller in sellers\" :key=\"seller.id\" :value=\"seller.id\">{{ seller.name }}</option>\r\n      </select>\r\n    </div>\r\n\r\n    <!-- Rango de Cartones -->\r\n    <div>\r\n      <label for=\"range\" class=\"block text-sm font-medium text-gray-700\">Rango de Cartones</label>\r\n      <div class=\"flex space-x-4 mt-1\">\r\n        <input\r\n          v-model.number=\"rangeStart\"\r\n          type=\"number\"\r\n          id=\"rangeStart\"\r\n          placeholder=\"Desde\"\r\n          class=\"w-1/2 px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\"\r\n          min=\"1\"\r\n        />\r\n        <input\r\n          v-model.number=\"rangeEnd\"\r\n          type=\"number\"\r\n          id=\"rangeEnd\"\r\n          placeholder=\"Hasta\"\r\n          class=\"w-1/2 px-4 py-2 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-300\"\r\n          min=\"1\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Bot贸n de Asignar -->\r\n    <button\r\n      @click=\"assignCartons\"\r\n      :disabled=\"!selectedSeller || !rangeStart || !rangeEnd || rangeStart > rangeEnd\"\r\n      class=\"w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 transition duration-300\"\r\n    >\r\n      Asignar Cartones\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db } from '../firebase';\r\nimport { collection, where, query, getDocs, updateDoc, doc } from 'firebase/firestore';\r\n\r\nexport default {\r\n  name: 'AssignCartons',\r\n  props: {\r\n    cartonesAsignados: Function\r\n  },\r\n  data() {\r\n    return {\r\n      selectedSeller: '',\r\n      rangeStart: null,\r\n      rangeEnd: null,\r\n      sellers: [\r\n        { id: '1', name: 'Vendedor 1' },\r\n        { id: '2', name: 'Vendedor 2' },\r\n        { id: '3', name: 'Vendedor 3' },\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    async assignCartons() {\r\n      try {\r\n        const cartonesRef = collection(db, 'cartones');\r\n        const q = query(cartonesRef, where('estado', '==', 'disponible'), where('serial', '>=', this.rangeStart.toString()), where('serial', '<=', this.rangeEnd.toString()));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        const updatePromises = querySnapshot.docs.map(async (docSnapshot) => {\r\n          const cartonRef = doc(db, 'cartones', docSnapshot.id);\r\n          await updateDoc(cartonRef, { estado: 'asignado', vendedorId: this.selectedSeller });\r\n        });\r\n\r\n        await Promise.all(updatePromises);\r\n        this.$emit('cartones-asignados');\r\n        alert(`Cartones del ${this.rangeStart} al ${this.rangeEnd} asignados a ${this.sellers.find(s => s.id === this.selectedSeller).name}`);\r\n      } catch (error) {\r\n        console.error('Error al asignar cartones:', error);\r\n        alert('Error al asignar cartones: ' + error.message);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Estilos adicionales si es necesario */\r\n</style>\r\n```"],"mappings":";;EAEOA,KAAK,EAAC;AAAW;mBAFxB;;EAmBWA,KAAK,EAAC;AAAqB;mBAnBtC;;uBAEEC,mBAAA,CA6CM,OA7CNC,UA6CM,GA5CJC,mBAAA,2BAA8B,EAC9BC,mBAAA,CAUM,c,0BATJA,mBAAA,CAAgG;IAAzFC,GAAG,EAAC,QAAQ;IAACL,KAAK,EAAC;KAA0C,sBAAoB,sB,gBACxFI,mBAAA,CAOS;IANPE,EAAE,EAAC,QAAQ;IAPnB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQiBC,KAAA,CAAAC,cAAc,GAAAF,MAAA;IACvBR,KAAK,EAAC;gCAENI,mBAAA,CAAoD;IAA5CO,KAAK,EAAC,EAAE;IAACC,QAAQ,EAAR;KAAS,mBAAiB,uB,kBAC3CX,mBAAA,CAAgGY,SAAA,QAZxGC,WAAA,CAYiCL,KAAA,CAAAM,OAAO,EAAjBC,MAAM;yBAArBf,mBAAA,CAAgG;MAA7DgB,GAAG,EAAED,MAAM,CAACV,EAAE;MAAGK,KAAK,EAAEK,MAAM,CAACV;wBAAOU,MAAM,CAACE,IAAI,wBAZ5FC,UAAA;2EAQiBV,KAAA,CAAAC,cAAc,E,KAQ3BP,mBAAA,uBAA0B,EAC1BC,mBAAA,CAoBM,c,0BAnBJA,mBAAA,CAA4F;IAArFC,GAAG,EAAC,OAAO;IAACL,KAAK,EAAC;KAA0C,mBAAiB,sBACpFI,mBAAA,CAiBM,OAjBNgB,UAiBM,G,gBAhBJhB,mBAAA,CAOE;IA3BV,uBAAAG,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAqB0BC,KAAA,CAAAY,UAAU,GAAAb,MAAA;IAC1Bc,IAAI,EAAC,QAAQ;IACbhB,EAAE,EAAC,YAAY;IACfiB,WAAW,EAAC,OAAO;IACnBvB,KAAK,EAAC,gJAAgJ;IACtJwB,GAAG,EAAC;iDALYf,KAAA,CAAAY,UAAU,E;IAAlBI,MAAM,EAAd;EAA2B,E,oBAO7BrB,mBAAA,CAOE;IAnCV,uBAAAG,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA6B0BC,KAAA,CAAAiB,QAAQ,GAAAlB,MAAA;IACxBc,IAAI,EAAC,QAAQ;IACbhB,EAAE,EAAC,UAAU;IACbiB,WAAW,EAAC,OAAO;IACnBvB,KAAK,EAAC,gJAAgJ;IACtJwB,GAAG,EAAC;iDALYf,KAAA,CAAAiB,QAAQ,E;IAAhBD,MAAM,EAAd;EAAyB,E,QAU/BtB,mBAAA,sBAAyB,EACzBC,mBAAA,CAMS;IALNuB,OAAK,EAAApB,MAAA,QAAAA,MAAA,UAAAqB,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;IACpBhB,QAAQ,GAAGH,KAAA,CAAAC,cAAc,KAAKD,KAAA,CAAAY,UAAU,KAAKZ,KAAA,CAAAiB,QAAQ,IAAIjB,KAAA,CAAAY,UAAU,GAAGZ,KAAA,CAAAiB,QAAQ;IAC/E1B,KAAK,EAAC;KACP,oBAED,iBA9CJ+B,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}