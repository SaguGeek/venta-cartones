{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { db } from '../firebase';\nimport { collection, query, where, getDocs, doc, getDoc, updateDoc } from 'firebase/firestore';\nexport default {\n  data() {\n    return {\n      sellers: [],\n      availableCartons: [],\n      selectedVendedorId: '',\n      startSerial: '',\n      endSerial: '',\n      errorMessage: '',\n      successMessage: ''\n    };\n  },\n  computed: {\n    isButtonDisabled() {\n      const disabled = !this.selectedVendedorId || !this.startSerial || !this.endSerial;\n      console.log('Estado del botón (disabled):', disabled, {\n        selectedVendedorId: this.selectedVendedorId,\n        startSerial: this.startSerial,\n        endSerial: this.endSerial\n      });\n      return disabled;\n    }\n  },\n  async mounted() {\n    console.log('Componente AssignCartons montado');\n    await this.loadSellers();\n    await this.loadAvailableCartons();\n  },\n  methods: {\n    logSelection() {\n      console.log('Selección actualizada:', {\n        selectedVendedorId: this.selectedVendedorId,\n        startSerial: this.startSerial,\n        endSerial: this.endSerial\n      });\n    },\n    async loadSellers() {\n      try {\n        console.log('Iniciando carga de vendedores...');\n        const querySnapshot = await getDocs(collection(db, 'vendedores'));\n        this.sellers = querySnapshot.docs.map(doc => doc.data());\n        console.log('Vendedores cargados:', this.sellers);\n      } catch (error) {\n        console.error('Error al cargar los vendedores:', error);\n        this.errorMessage = 'Error al cargar los vendedores: ' + error.message;\n      }\n    },\n    async loadAvailableCartons() {\n      try {\n        console.log('Cargando cartones disponibles...');\n        const q = query(collection(db, 'cartones'), where('estado', '==', 'disponible'), where('vendedorId', '==', null));\n        const querySnapshot = await getDocs(q);\n        this.availableCartons = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          serial: doc.data().serial\n        })).sort((a, b) => a.serial.localeCompare(b.serial));\n        console.log('Cartones disponibles cargados (ordenados):', this.availableCartons);\n      } catch (error) {\n        console.error('Error al cargar los cartones disponibles:', error);\n        this.errorMessage = 'Error al cargar los cartones disponibles: ' + error.message;\n      }\n    },\n    async assignCartons() {\n      console.log('Botón \"Asignar Cartones\" clicado');\n      console.log('Valores seleccionados:', {\n        selectedVendedorId: this.selectedVendedorId,\n        startSerial: this.startSerial,\n        endSerial: this.endSerial\n      });\n      this.errorMessage = '';\n      this.successMessage = '';\n      if (!this.selectedVendedorId || !this.startSerial || !this.endSerial) {\n        console.log('Campos incompletos, mostrando mensaje de error');\n        this.errorMessage = 'Por favor, completa todos los campos.';\n        return;\n      }\n      try {\n        console.log('Iniciando proceso de asignación...');\n        // Determinar el rango de seriales seleccionados\n        const startIndex = this.availableCartons.findIndex(carton => carton.serial === this.startSerial);\n        const endIndex = this.availableCartons.findIndex(carton => carton.serial === this.endSerial);\n        if (startIndex === -1 || endIndex === -1) {\n          console.log('Seriales no encontrados en la lista de cartones disponibles');\n          this.errorMessage = 'Los seriales seleccionados no están disponibles.';\n          return;\n        }\n        if (startIndex > endIndex) {\n          console.log('Rango inválido: el serial inicial debe ser menor o igual al serial final');\n          this.errorMessage = 'El serial inicial debe ser menor o igual al serial final.';\n          return;\n        }\n        const cartonesToAssign = this.availableCartons.slice(startIndex, endIndex + 1);\n        console.log('Cartones a asignar:', cartonesToAssign);\n        if (cartonesToAssign.length === 0) {\n          console.log('No hay cartones para asignar en el rango seleccionado');\n          this.errorMessage = 'No hay cartones para asignar en el rango seleccionado.';\n          return;\n        }\n\n        // Verificar si algún cartón ya está asignado (por si cambió mientras se cargaba la página)\n        let alreadyAssignedSerials = [];\n        for (const carton of cartonesToAssign) {\n          console.log(`Verificando cartón ${carton.serial}...`);\n          const cartonRef = doc(db, 'cartones', carton.id);\n          const cartonDoc = await getDoc(cartonRef);\n          if (cartonDoc.exists() && cartonDoc.data().vendedorId && cartonDoc.data().vendedorId !== this.selectedVendedorId) {\n            alreadyAssignedSerials.push(carton.serial);\n          }\n        }\n        if (alreadyAssignedSerials.length > 0) {\n          console.log('Cartones ya asignados detectados:', alreadyAssignedSerials);\n          this.errorMessage = `Los siguientes cartones ya están asignados a otro vendedor: ${alreadyAssignedSerials.join(', ')}`;\n          return;\n        }\n\n        // Asignar los cartones\n        console.log('Procediendo a asignar cartones...');\n        for (const carton of cartonesToAssign) {\n          console.log(`Asignando cartón ${carton.serial} a ${this.selectedVendedorId}`);\n          await updateDoc(doc(db, 'cartones', carton.id), {\n            vendedorId: this.selectedVendedorId\n          });\n          console.log(`Cartón ${carton.serial} asignado exitosamente`);\n        }\n        console.log('Asignación completada para', cartonesToAssign.length, 'cartones');\n        this.successMessage = 'Cartones asignados';\n        this.startSerial = '';\n        this.endSerial = '';\n        this.selectedVendedorId = '';\n        // Recargar los cartones disponibles después de asignar\n        await this.loadAvailableCartons();\n      } catch (error) {\n        console.error('Error al asignar cartones:', error);\n        this.errorMessage = 'Error al asignar cartones: ' + error.message;\n      }\n    }\n  }\n};","map":{"version":3,"names":["db","collection","query","where","getDocs","doc","getDoc","updateDoc","data","sellers","availableCartons","selectedVendedorId","startSerial","endSerial","errorMessage","successMessage","computed","isButtonDisabled","disabled","console","log","mounted","loadSellers","loadAvailableCartons","methods","logSelection","querySnapshot","docs","map","error","message","q","id","serial","sort","a","b","localeCompare","assignCartons","startIndex","findIndex","carton","endIndex","cartonesToAssign","slice","length","alreadyAssignedSerials","cartonRef","cartonDoc","exists","vendedorId","push","join"],"sources":["D:\\Lotweb\\venta-cartones\\src\\components\\AssignCartons.vue"],"sourcesContent":["```vue\r\n   <template>\r\n     <div class=\"bg-white p-6 rounded-lg shadow-md mb-6\">\r\n       <h2 class=\"text-2xl font-semibold text-gray-800 mb-4\">Asignar Cartones por Lote</h2>\r\n       <div class=\"space-y-4\">\r\n         <div>\r\n           <label class=\"block text-gray-600 mb-1\">Seleccionar Vendedor</label>\r\n           <select\r\n             v-model=\"selectedVendedorId\"\r\n             @change=\"logSelection\"\r\n             class=\"w-full p-2 border rounded-md\"\r\n           >\r\n             <option value=\"\" disabled>Selecciona un vendedor</option>\r\n             <option v-for=\"seller in sellers\" :key=\"seller.vendedorId\" :value=\"seller.vendedorId\">\r\n               {{ seller.nombre || seller.vendedorId }}\r\n             </option>\r\n           </select>\r\n         </div>\r\n         <div>\r\n           <label class=\"block text-gray-600 mb-1\">Desde</label>\r\n           <select\r\n             v-model=\"startSerial\"\r\n             @change=\"logSelection\"\r\n             class=\"w-full p-2 border rounded-md\"\r\n           >\r\n             <option value=\"\" disabled>Selecciona un serial inicial</option>\r\n             <option v-for=\"carton in availableCartons\" :key=\"carton.serial\" :value=\"carton.serial\">\r\n               {{ carton.serial }}\r\n             </option>\r\n           </select>\r\n         </div>\r\n         <div>\r\n           <label class=\"block text-gray-600 mb-1\">Hasta</label>\r\n           <select\r\n             v-model=\"endSerial\"\r\n             @change=\"logSelection\"\r\n             class=\"w-full p-2 border rounded-md\"\r\n           >\r\n             <option value=\"\" disabled>Selecciona un serial final</option>\r\n             <option v-for=\"carton in availableCartons\" :key=\"carton.serial\" :value=\"carton.serial\">\r\n               {{ carton.serial }}\r\n             </option>\r\n           </select>\r\n         </div>\r\n         <button\r\n           @click=\"assignCartons\"\r\n           class=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition\"\r\n           :disabled=\"isButtonDisabled\"\r\n         >\r\n           Asignar Cartones\r\n         </button>\r\n         <p v-if=\"isButtonDisabled\" class=\"text-yellow-600 mt-2\">Por favor, completa todos los campos para habilitar el botón.</p>\r\n       </div>\r\n       <p v-if=\"errorMessage\" class=\"text-red-600 mt-2\">{{ errorMessage }}</p>\r\n       <p v-if=\"successMessage\" class=\"text-green-600 mt-2\">{{ successMessage }}</p>\r\n     </div>\r\n   </template>\r\n\r\n   <script>\r\n   import { db } from '../firebase';\r\n   import { collection, query, where, getDocs, doc, getDoc, updateDoc } from 'firebase/firestore';\r\n\r\n   export default {\r\n     data() {\r\n       return {\r\n         sellers: [],\r\n         availableCartons: [],\r\n         selectedVendedorId: '',\r\n         startSerial: '',\r\n         endSerial: '',\r\n         errorMessage: '',\r\n         successMessage: ''\r\n       };\r\n     },\r\n     computed: {\r\n       isButtonDisabled() {\r\n         const disabled = !this.selectedVendedorId || !this.startSerial || !this.endSerial;\r\n         console.log('Estado del botón (disabled):', disabled, {\r\n           selectedVendedorId: this.selectedVendedorId,\r\n           startSerial: this.startSerial,\r\n           endSerial: this.endSerial\r\n         });\r\n         return disabled;\r\n       }\r\n     },\r\n     async mounted() {\r\n       console.log('Componente AssignCartons montado');\r\n       await this.loadSellers();\r\n       await this.loadAvailableCartons();\r\n     },\r\n     methods: {\r\n       logSelection() {\r\n         console.log('Selección actualizada:', {\r\n           selectedVendedorId: this.selectedVendedorId,\r\n           startSerial: this.startSerial,\r\n           endSerial: this.endSerial\r\n         });\r\n       },\r\n       async loadSellers() {\r\n         try {\r\n           console.log('Iniciando carga de vendedores...');\r\n           const querySnapshot = await getDocs(collection(db, 'vendedores'));\r\n           this.sellers = querySnapshot.docs.map(doc => doc.data());\r\n           console.log('Vendedores cargados:', this.sellers);\r\n         } catch (error) {\r\n           console.error('Error al cargar los vendedores:', error);\r\n           this.errorMessage = 'Error al cargar los vendedores: ' + error.message;\r\n         }\r\n       },\r\n       async loadAvailableCartons() {\r\n         try {\r\n           console.log('Cargando cartones disponibles...');\r\n           const q = query(\r\n             collection(db, 'cartones'),\r\n             where('estado', '==', 'disponible'),\r\n             where('vendedorId', '==', null)\r\n           );\r\n           const querySnapshot = await getDocs(q);\r\n           this.availableCartons = querySnapshot.docs.map(doc => ({\r\n             id: doc.id,\r\n             serial: doc.data().serial\r\n           })).sort((a, b) => a.serial.localeCompare(b.serial));\r\n           console.log('Cartones disponibles cargados (ordenados):', this.availableCartons);\r\n         } catch (error) {\r\n           console.error('Error al cargar los cartones disponibles:', error);\r\n           this.errorMessage = 'Error al cargar los cartones disponibles: ' + error.message;\r\n         }\r\n       },\r\n       async assignCartons() {\r\n         console.log('Botón \"Asignar Cartones\" clicado');\r\n         console.log('Valores seleccionados:', {\r\n           selectedVendedorId: this.selectedVendedorId,\r\n           startSerial: this.startSerial,\r\n           endSerial: this.endSerial\r\n         });\r\n\r\n         this.errorMessage = '';\r\n         this.successMessage = '';\r\n\r\n         if (!this.selectedVendedorId || !this.startSerial || !this.endSerial) {\r\n           console.log('Campos incompletos, mostrando mensaje de error');\r\n           this.errorMessage = 'Por favor, completa todos los campos.';\r\n           return;\r\n         }\r\n\r\n         try {\r\n           console.log('Iniciando proceso de asignación...');\r\n           // Determinar el rango de seriales seleccionados\r\n           const startIndex = this.availableCartons.findIndex(carton => carton.serial === this.startSerial);\r\n           const endIndex = this.availableCartons.findIndex(carton => carton.serial === this.endSerial);\r\n\r\n           if (startIndex === -1 || endIndex === -1) {\r\n             console.log('Seriales no encontrados en la lista de cartones disponibles');\r\n             this.errorMessage = 'Los seriales seleccionados no están disponibles.';\r\n             return;\r\n           }\r\n\r\n           if (startIndex > endIndex) {\r\n             console.log('Rango inválido: el serial inicial debe ser menor o igual al serial final');\r\n             this.errorMessage = 'El serial inicial debe ser menor o igual al serial final.';\r\n             return;\r\n           }\r\n\r\n           const cartonesToAssign = this.availableCartons.slice(startIndex, endIndex + 1);\r\n           console.log('Cartones a asignar:', cartonesToAssign);\r\n\r\n           if (cartonesToAssign.length === 0) {\r\n             console.log('No hay cartones para asignar en el rango seleccionado');\r\n             this.errorMessage = 'No hay cartones para asignar en el rango seleccionado.';\r\n             return;\r\n           }\r\n\r\n           // Verificar si algún cartón ya está asignado (por si cambió mientras se cargaba la página)\r\n           let alreadyAssignedSerials = [];\r\n           for (const carton of cartonesToAssign) {\r\n             console.log(`Verificando cartón ${carton.serial}...`);\r\n             const cartonRef = doc(db, 'cartones', carton.id);\r\n             const cartonDoc = await getDoc(cartonRef);\r\n             if (cartonDoc.exists() && cartonDoc.data().vendedorId && cartonDoc.data().vendedorId !== this.selectedVendedorId) {\r\n               alreadyAssignedSerials.push(carton.serial);\r\n             }\r\n           }\r\n\r\n           if (alreadyAssignedSerials.length > 0) {\r\n             console.log('Cartones ya asignados detectados:', alreadyAssignedSerials);\r\n             this.errorMessage = `Los siguientes cartones ya están asignados a otro vendedor: ${alreadyAssignedSerials.join(', ')}`;\r\n             return;\r\n           }\r\n\r\n           // Asignar los cartones\r\n           console.log('Procediendo a asignar cartones...');\r\n           for (const carton of cartonesToAssign) {\r\n             console.log(`Asignando cartón ${carton.serial} a ${this.selectedVendedorId}`);\r\n             await updateDoc(doc(db, 'cartones', carton.id), {\r\n               vendedorId: this.selectedVendedorId\r\n             });\r\n             console.log(`Cartón ${carton.serial} asignado exitosamente`);\r\n           }\r\n\r\n           console.log('Asignación completada para', cartonesToAssign.length, 'cartones');\r\n           this.successMessage = 'Cartones asignados';\r\n           this.startSerial = '';\r\n           this.endSerial = '';\r\n           this.selectedVendedorId = '';\r\n           // Recargar los cartones disponibles después de asignar\r\n           await this.loadAvailableCartons();\r\n         } catch (error) {\r\n           console.error('Error al asignar cartones:', error);\r\n           this.errorMessage = 'Error al asignar cartones: ' + error.message;\r\n         }\r\n       }\r\n     }\r\n   };\r\n   </script>\r\n\r\n   <style scoped>\r\n   /* Tailwind maneja los estilos */\r\n   </style>"],"mappings":";;;AA2DG,SAASA,EAAC,QAAS,aAAa;AAChC,SAASC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAEC,GAAG,EAAEC,MAAM,EAAEC,SAAQ,QAAS,oBAAoB;AAE9F,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,gBAAgB,EAAE,EAAE;MACpBC,kBAAkB,EAAE,EAAE;MACtBC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,gBAAgBA,CAAA,EAAG;MACjB,MAAMC,QAAO,GAAI,CAAC,IAAI,CAACP,kBAAiB,IAAK,CAAC,IAAI,CAACC,WAAU,IAAK,CAAC,IAAI,CAACC,SAAS;MACjFM,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,QAAQ,EAAE;QACpDP,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC3CC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BC,SAAS,EAAE,IAAI,CAACA;MAClB,CAAC,CAAC;MACF,OAAOK,QAAQ;IACjB;EACF,CAAC;EACD,MAAMG,OAAOA,CAAA,EAAG;IACdF,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;IAC/C,MAAM,IAAI,CAACE,WAAW,CAAC,CAAC;IACxB,MAAM,IAAI,CAACC,oBAAoB,CAAC,CAAC;EACnC,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbN,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE;QACpCT,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC3CC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BC,SAAS,EAAE,IAAI,CAACA;MAClB,CAAC,CAAC;IACJ,CAAC;IACD,MAAMS,WAAWA,CAAA,EAAG;MAClB,IAAI;QACFH,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;QAC/C,MAAMM,aAAY,GAAI,MAAMtB,OAAO,CAACH,UAAU,CAACD,EAAE,EAAE,YAAY,CAAC,CAAC;QACjE,IAAI,CAACS,OAAM,GAAIiB,aAAa,CAACC,IAAI,CAACC,GAAG,CAACvB,GAAE,IAAKA,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC;QACxDW,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAACX,OAAO,CAAC;MACnD,EAAE,OAAOoB,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvD,IAAI,CAACf,YAAW,GAAI,kCAAiC,GAAIe,KAAK,CAACC,OAAO;MACxE;IACF,CAAC;IACD,MAAMP,oBAAoBA,CAAA,EAAG;MAC3B,IAAI;QACFJ,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;QAC/C,MAAMW,CAAA,GAAI7B,KAAK,CACbD,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAC1BG,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,YAAY,CAAC,EACnCA,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAChC,CAAC;QACD,MAAMuB,aAAY,GAAI,MAAMtB,OAAO,CAAC2B,CAAC,CAAC;QACtC,IAAI,CAACrB,gBAAe,GAAIgB,aAAa,CAACC,IAAI,CAACC,GAAG,CAACvB,GAAE,KAAM;UACrD2B,EAAE,EAAE3B,GAAG,CAAC2B,EAAE;UACVC,MAAM,EAAE5B,GAAG,CAACG,IAAI,CAAC,CAAC,CAACyB;QACrB,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACF,MAAM,CAACI,aAAa,CAACD,CAAC,CAACH,MAAM,CAAC,CAAC;QACpDd,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAE,IAAI,CAACV,gBAAgB,CAAC;MAClF,EAAE,OAAOmB,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;QACjE,IAAI,CAACf,YAAW,GAAI,4CAA2C,GAAIe,KAAK,CAACC,OAAO;MAClF;IACF,CAAC;IACD,MAAMQ,aAAaA,CAAA,EAAG;MACpBnB,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/CD,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE;QACpCT,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC3CC,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BC,SAAS,EAAE,IAAI,CAACA;MAClB,CAAC,CAAC;MAEF,IAAI,CAACC,YAAW,GAAI,EAAE;MACtB,IAAI,CAACC,cAAa,GAAI,EAAE;MAExB,IAAI,CAAC,IAAI,CAACJ,kBAAiB,IAAK,CAAC,IAAI,CAACC,WAAU,IAAK,CAAC,IAAI,CAACC,SAAS,EAAE;QACpEM,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;QAC7D,IAAI,CAACN,YAAW,GAAI,uCAAuC;QAC3D;MACF;MAEA,IAAI;QACFK,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;QACjD;QACA,MAAMmB,UAAS,GAAI,IAAI,CAAC7B,gBAAgB,CAAC8B,SAAS,CAACC,MAAK,IAAKA,MAAM,CAACR,MAAK,KAAM,IAAI,CAACrB,WAAW,CAAC;QAChG,MAAM8B,QAAO,GAAI,IAAI,CAAChC,gBAAgB,CAAC8B,SAAS,CAACC,MAAK,IAAKA,MAAM,CAACR,MAAK,KAAM,IAAI,CAACpB,SAAS,CAAC;QAE5F,IAAI0B,UAAS,KAAM,CAAC,KAAKG,QAAO,KAAM,CAAC,CAAC,EAAE;UACxCvB,OAAO,CAACC,GAAG,CAAC,6DAA6D,CAAC;UAC1E,IAAI,CAACN,YAAW,GAAI,kDAAkD;UACtE;QACF;QAEA,IAAIyB,UAAS,GAAIG,QAAQ,EAAE;UACzBvB,OAAO,CAACC,GAAG,CAAC,0EAA0E,CAAC;UACvF,IAAI,CAACN,YAAW,GAAI,2DAA2D;UAC/E;QACF;QAEA,MAAM6B,gBAAe,GAAI,IAAI,CAACjC,gBAAgB,CAACkC,KAAK,CAACL,UAAU,EAAEG,QAAO,GAAI,CAAC,CAAC;QAC9EvB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEuB,gBAAgB,CAAC;QAEpD,IAAIA,gBAAgB,CAACE,MAAK,KAAM,CAAC,EAAE;UACjC1B,OAAO,CAACC,GAAG,CAAC,uDAAuD,CAAC;UACpE,IAAI,CAACN,YAAW,GAAI,wDAAwD;UAC5E;QACF;;QAEA;QACA,IAAIgC,sBAAqB,GAAI,EAAE;QAC/B,KAAK,MAAML,MAAK,IAAKE,gBAAgB,EAAE;UACrCxB,OAAO,CAACC,GAAG,CAAC,sBAAsBqB,MAAM,CAACR,MAAM,KAAK,CAAC;UACrD,MAAMc,SAAQ,GAAI1C,GAAG,CAACL,EAAE,EAAE,UAAU,EAAEyC,MAAM,CAACT,EAAE,CAAC;UAChD,MAAMgB,SAAQ,GAAI,MAAM1C,MAAM,CAACyC,SAAS,CAAC;UACzC,IAAIC,SAAS,CAACC,MAAM,CAAC,KAAKD,SAAS,CAACxC,IAAI,CAAC,CAAC,CAAC0C,UAAS,IAAKF,SAAS,CAACxC,IAAI,CAAC,CAAC,CAAC0C,UAAS,KAAM,IAAI,CAACvC,kBAAkB,EAAE;YAChHmC,sBAAsB,CAACK,IAAI,CAACV,MAAM,CAACR,MAAM,CAAC;UAC5C;QACF;QAEA,IAAIa,sBAAsB,CAACD,MAAK,GAAI,CAAC,EAAE;UACrC1B,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE0B,sBAAsB,CAAC;UACxE,IAAI,CAAChC,YAAW,GAAI,+DAA+DgC,sBAAsB,CAACM,IAAI,CAAC,IAAI,CAAC,EAAE;UACtH;QACF;;QAEA;QACAjC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;QAChD,KAAK,MAAMqB,MAAK,IAAKE,gBAAgB,EAAE;UACrCxB,OAAO,CAACC,GAAG,CAAC,oBAAoBqB,MAAM,CAACR,MAAM,MAAM,IAAI,CAACtB,kBAAkB,EAAE,CAAC;UAC7E,MAAMJ,SAAS,CAACF,GAAG,CAACL,EAAE,EAAE,UAAU,EAAEyC,MAAM,CAACT,EAAE,CAAC,EAAE;YAC9CkB,UAAU,EAAE,IAAI,CAACvC;UACnB,CAAC,CAAC;UACFQ,OAAO,CAACC,GAAG,CAAC,UAAUqB,MAAM,CAACR,MAAM,wBAAwB,CAAC;QAC9D;QAEAd,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEuB,gBAAgB,CAACE,MAAM,EAAE,UAAU,CAAC;QAC9E,IAAI,CAAC9B,cAAa,GAAI,oBAAoB;QAC1C,IAAI,CAACH,WAAU,GAAI,EAAE;QACrB,IAAI,CAACC,SAAQ,GAAI,EAAE;QACnB,IAAI,CAACF,kBAAiB,GAAI,EAAE;QAC5B;QACA,MAAM,IAAI,CAACY,oBAAoB,CAAC,CAAC;MACnC,EAAE,OAAOM,KAAK,EAAE;QACdV,OAAO,CAACU,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClD,IAAI,CAACf,YAAW,GAAI,6BAA4B,GAAIe,KAAK,CAACC,OAAO;MACnE;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}