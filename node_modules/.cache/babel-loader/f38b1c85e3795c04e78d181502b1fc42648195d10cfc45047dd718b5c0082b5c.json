{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex justify-between items-center mb-4\"\n};\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = {\n  key: 0,\n  class: \"flex items-center\"\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"bg-white p-4 rounded-lg shadow-md mb-6\"\n};\nconst _hoisted_6 = {\n  class: \"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n};\nconst _hoisted_7 = {\n  class: \"text-center\"\n};\nconst _hoisted_8 = {\n  class: \"text-2xl font-bold text-blue-600\"\n};\nconst _hoisted_9 = {\n  class: \"text-center\"\n};\nconst _hoisted_10 = {\n  class: \"text-2xl font-bold text-green-600\"\n};\nconst _hoisted_11 = {\n  class: \"text-center\"\n};\nconst _hoisted_12 = {\n  class: \"text-2xl font-bold text-purple-600\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"text-center text-gray-600\"\n};\nconst _hoisted_14 = {\n  key: 2\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"text-gray-600\"\n};\nconst _hoisted_16 = {\n  class: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\"\n};\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = [\"src\", \"alt\", \"onError\"];\nconst _hoisted_19 = {\n  class: \"text-gray-800 font-medium\"\n};\nconst _hoisted_20 = {\n  class: \"text-gray-600\"\n};\nconst _hoisted_21 = {\n  key: 3,\n  class: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n};\nconst _hoisted_22 = {\n  class: \"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full\"\n};\nconst _hoisted_23 = [\"src\", \"alt\"];\nconst _hoisted_24 = {\n  class: \"text-gray-800 font-medium\"\n};\nconst _hoisted_25 = {\n  class: \"text-gray-600\"\n};\nconst _hoisted_26 = {\n  class: \"flex justify-between mt-4\"\n};\nconst _hoisted_27 = {\n  key: 4,\n  class: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n};\nconst _hoisted_28 = {\n  class: \"bg-white p-6 rounded-lg shadow-lg max-w-md w-full\"\n};\nconst _hoisted_29 = {\n  class: \"text-gray-600 mb-4\"\n};\nconst _hoisted_30 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_31 = [\"disabled\"];\nconst _hoisted_32 = {\n  key: 0,\n  class: \"flex items-center\"\n};\nconst _hoisted_33 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold text-gray-800\"\n  }, \"Lista de Cartones\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.loadCartones && $options.loadCartones(...args)),\n    class: \"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition flex items-center\",\n    disabled: $data.loading\n  }, [$data.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _cache[6] || (_cache[6] = [_createElementVNode(\"svg\", {\n    class: \"animate-spin h-5 w-5 mr-2 text-white\",\n    viewBox: \"0 0 24 24\"\n  }, [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  })], -1 /* HOISTED */), _createTextVNode(\" Cargando... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"Refrescar\"))], 8 /* PROPS */, _hoisted_2)]), _createCommentVNode(\" Estadísticas \"), !$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[11] || (_cache[11] = _createElementVNode(\"h3\", {\n    class: \"text-xl font-medium text-gray-700 mb-2\"\n  }, \"Estadísticas\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"Cartones Disponibles\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_8, _toDisplayString($data.availableCartons), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_cache[9] || (_cache[9] = _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"Cartones Vendidos\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_10, _toDisplayString($data.soldCartons), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[10] || (_cache[10] = _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"Vendedores\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_12, _toDisplayString($data.sellerCount), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de Cartones \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, \"Cargando cartones...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [$data.cartones.length === 0 ? (_openBlock(), _createElementBlock(\"p\", _hoisted_15, \"No hay cartones disponibles.\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cartones, carton => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: carton.id,\n      class: \"carton-item bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition cursor-pointer\",\n      onClick: $event => $options.openModal(carton)\n    }, [_createElementVNode(\"img\", {\n      src: carton.imageUrl,\n      alt: 'Cartón ' + carton.serial,\n      class: \"carton-image w-full h-48 object-cover rounded-md mb-2\",\n      onError: $event => $options.handleImageError(carton)\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_18), _createElementVNode(\"p\", _hoisted_19, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Serial:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(carton.serial), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_20, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Estado:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(carton.estado), 1 /* TEXT */)])], 8 /* PROPS */, _hoisted_17);\n  }), 128 /* KEYED_FRAGMENT */))])])), _createCommentVNode(\" Modal de Detalles \"), $data.selectedCarton ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_cache[16] || (_cache[16] = _createElementVNode(\"h3\", {\n    class: \"text-xl font-semibold text-gray-800 mb-4\"\n  }, \"Detalles del Cartón\", -1 /* HOISTED */)), _createElementVNode(\"img\", {\n    src: $data.selectedCarton.imageUrl,\n    alt: 'Cartón ' + $data.selectedCarton.serial,\n    class: \"w-full h-auto rounded-md mb-4\",\n    onError: _cache[1] || (_cache[1] = $event => $options.handleImageError($data.selectedCarton))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_23), _createElementVNode(\"p\", _hoisted_24, [_cache[14] || (_cache[14] = _createElementVNode(\"strong\", null, \"Serial:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedCarton.serial), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_25, [_cache[15] || (_cache[15] = _createElementVNode(\"strong\", null, \"Estado:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.selectedCarton.estado), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.confirmDelete($data.selectedCarton)),\n    class: \"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition\"\n  }, \" Eliminar \"), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.closeModal && $options.closeModal(...args)),\n    class: \"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition\"\n  }, \" Cerrar \")])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal de Confirmación de Eliminación \"), $data.cartonToDelete ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_cache[20] || (_cache[20] = _createElementVNode(\"h3\", {\n    class: \"text-xl font-semibold text-gray-800 mb-4\"\n  }, \"Confirmar Eliminación\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_29, [_cache[17] || (_cache[17] = _createTextVNode(\" ¿Estás seguro de que deseas eliminar el cartón con serial \")), _createElementVNode(\"strong\", null, _toDisplayString($data.cartonToDelete.serial), 1 /* TEXT */), _cache[18] || (_cache[18] = _createTextVNode(\"? Esta acción no se puede deshacer. \"))]), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.deleteCarton && $options.deleteCarton(...args)),\n    class: \"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition\",\n    disabled: $data.deleting\n  }, [$data.deleting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_32, _cache[19] || (_cache[19] = [_createElementVNode(\"svg\", {\n    class: \"animate-spin h-5 w-5 mr-2 text-white\",\n    viewBox: \"0 0 24 24\"\n  }, [_createElementVNode(\"circle\", {\n    class: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"4\"\n  }), _createElementVNode(\"path\", {\n    class: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  })], -1 /* HOISTED */), _createTextVNode(\" Eliminando... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_33, \"Eliminar\"))], 8 /* PROPS */, _hoisted_31), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $data.cartonToDelete = null),\n    class: \"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition\"\n  }, \" Cancelar \")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createElementVNode","_hoisted_1","onClick","_cache","args","$options","loadCartones","disabled","$data","loading","_hoisted_3","viewBox","cx","cy","r","stroke","fill","d","_createTextVNode","_hoisted_4","_hoisted_2","_createCommentVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","availableCartons","_hoisted_9","_hoisted_10","soldCartons","_hoisted_11","_hoisted_12","sellerCount","_hoisted_13","_hoisted_14","cartones","length","_hoisted_15","_hoisted_16","_Fragment","_renderList","carton","id","$event","openModal","src","imageUrl","alt","serial","onError","handleImageError","_hoisted_18","_hoisted_19","_hoisted_20","estado","_hoisted_17","selectedCarton","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","confirmDelete","closeModal","cartonToDelete","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","deleteCarton","deleting","_hoisted_32","_hoisted_33","_hoisted_31"],"sources":["D:\\Lotweb\\venta-cartones\\src\\components\\CartonList.vue"],"sourcesContent":["```vue\r\n<template>\r\n  <div>\r\n    <div class=\"flex justify-between items-center mb-4\">\r\n      <h2 class=\"text-xl font-semibold text-gray-800\">Lista de Cartones</h2>\r\n      <button\r\n        @click=\"loadCartones\"\r\n        class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition flex items-center\"\r\n        :disabled=\"loading\"\r\n      >\r\n        <span v-if=\"loading\" class=\"flex items-center\">\r\n          <svg class=\"animate-spin h-5 w-5 mr-2 text-white\" viewBox=\"0 0 24 24\">\r\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n          </svg>\r\n          Cargando...\r\n        </span>\r\n        <span v-else>Refrescar</span>\r\n      </button>\r\n    </div>\r\n    <!-- Estadísticas -->\r\n    <div v-if=\"!loading\" class=\"bg-white p-4 rounded-lg shadow-md mb-6\">\r\n      <h3 class=\"text-xl font-medium text-gray-700 mb-2\">Estadísticas</h3>\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n        <div class=\"text-center\">\r\n          <p class=\"text-gray-600\">Cartones Disponibles</p>\r\n          <p class=\"text-2xl font-bold text-blue-600\">{{ availableCartons }}</p>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <p class=\"text-gray-600\">Cartones Vendidos</p>\r\n          <p class=\"text-2xl font-bold text-green-600\">{{ soldCartons }}</p>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <p class=\"text-gray-600\">Vendedores</p>\r\n          <p class=\"text-2xl font-bold text-purple-600\">{{ sellerCount }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Lista de Cartones -->\r\n    <div v-if=\"loading\" class=\"text-center text-gray-600\">Cargando cartones...</div>\r\n    <div v-else>\r\n      <p v-if=\"cartones.length === 0\" class=\"text-gray-600\">No hay cartones disponibles.</p>\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n        <div\r\n          v-for=\"carton in cartones\"\r\n          :key=\"carton.id\"\r\n          class=\"carton-item bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition cursor-pointer\"\r\n          @click=\"openModal(carton)\"\r\n        >\r\n          <img\r\n            :src=\"carton.imageUrl\"\r\n            :alt=\"'Cartón ' + carton.serial\"\r\n            class=\"carton-image w-full h-48 object-cover rounded-md mb-2\"\r\n            @error=\"handleImageError(carton)\"\r\n          />\r\n          <p class=\"text-gray-800 font-medium\"><strong>Serial:</strong> {{ carton.serial }}</p>\r\n          <p class=\"text-gray-600\"><strong>Estado:</strong> {{ carton.estado }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Modal de Detalles -->\r\n    <div v-if=\"selectedCarton\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div class=\"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full\">\r\n        <h3 class=\"text-xl font-semibold text-gray-800 mb-4\">Detalles del Cartón</h3>\r\n        <img\r\n          :src=\"selectedCarton.imageUrl\"\r\n          :alt=\"'Cartón ' + selectedCarton.serial\"\r\n          class=\"w-full h-auto rounded-md mb-4\"\r\n          @error=\"handleImageError(selectedCarton)\"\r\n        />\r\n        <p class=\"text-gray-800 font-medium\"><strong>Serial:</strong> {{ selectedCarton.serial }}</p>\r\n        <p class=\"text-gray-600\"><strong>Estado:</strong> {{ selectedCarton.estado }}</p>\r\n        <div class=\"flex justify-between mt-4\">\r\n          <button\r\n            @click=\"confirmDelete(selectedCarton)\"\r\n            class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition\"\r\n          >\r\n            Eliminar\r\n          </button>\r\n          <button\r\n            @click=\"closeModal\"\r\n            class=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition\"\r\n          >\r\n            Cerrar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Modal de Confirmación de Eliminación -->\r\n    <div v-if=\"cartonToDelete\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div class=\"bg-white p-6 rounded-lg shadow-lg max-w-md w-full\">\r\n        <h3 class=\"text-xl font-semibold text-gray-800 mb-4\">Confirmar Eliminación</h3>\r\n        <p class=\"text-gray-600 mb-4\">\r\n          ¿Estás seguro de que deseas eliminar el cartón con serial <strong>{{ cartonToDelete.serial }}</strong>?\r\n          Esta acción no se puede deshacer.\r\n        </p>\r\n        <div class=\"flex justify-between\">\r\n          <button\r\n            @click=\"deleteCarton\"\r\n            class=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition\"\r\n            :disabled=\"deleting\"\r\n          >\r\n            <span v-if=\"deleting\" class=\"flex items-center\">\r\n              <svg class=\"animate-spin h-5 w-5 mr-2 text-white\" viewBox=\"0 0 24 24\">\r\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n              Eliminando...\r\n            </span>\r\n            <span v-else>Eliminar</span>\r\n          </button>\r\n          <button\r\n            @click=\"cartonToDelete = null\"\r\n            class=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db } from '../firebase';\r\nimport { collection, getDocs, doc, deleteDoc } from 'firebase/firestore';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cartones: [],\r\n      selectedCarton: null,\r\n      cartonToDelete: null,\r\n      availableCartons: 0,\r\n      soldCartons: 0,\r\n      sellerCount: 0,\r\n      loading: false,\r\n      deleting: false\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.loadData();\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      this.loading = true;\r\n      try {\r\n        await this.loadCartones();\r\n        await this.loadSellers();\r\n      } catch (error) {\r\n        console.error('Error al cargar datos:', error);\r\n        this.$toast.error('Error al cargar datos: ' + error.message);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async loadCartones() {\r\n      try {\r\n        const querySnapshot = await getDocs(collection(db, 'cartones'));\r\n        this.cartones = querySnapshot.docs.map(doc => ({\r\n          id: doc.id,\r\n          ...doc.data()\r\n        }));\r\n        // Ordenar los cartones por serial (LM seguido de números)\r\n        this.cartones.sort((a, b) => {\r\n          const serialA = parseInt(a.serial.replace('LM', ''), 10);\r\n          const serialB = parseInt(b.serial.replace('LM', ''), 10);\r\n          return serialA - serialB;\r\n        });\r\n        this.availableCartons = this.cartones.filter(c => c.estado === 'disponible').length;\r\n        this.soldCartons = this.cartones.filter(c => c.estado === 'vendido').length;\r\n        console.log('Cartones cargados:', this.cartones);\r\n      } catch (error) {\r\n        console.error('Error al cargar los cartones:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    async loadSellers() {\r\n      try {\r\n        const querySnapshot = await getDocs(collection(db, 'vendedores'));\r\n        this.sellerCount = querySnapshot.docs.length;\r\n      } catch (error) {\r\n        console.error('Error al cargar los vendedores:', error);\r\n        throw error;\r\n      }\r\n    },\r\n    openModal(carton) {\r\n      this.selectedCarton = carton;\r\n    },\r\n    closeModal() {\r\n      this.selectedCarton = null;\r\n    },\r\n    handleImageError(carton) {\r\n      console.error(`Error al cargar la imagen del cartón ${carton.serial}:`, carton.imageUrl);\r\n      carton.imageUrl = null; // Evita intentar cargar la imagen nuevamente\r\n    },\r\n    confirmDelete(carton) {\r\n      this.selectedCarton = null; // Cerrar el modal de detalles\r\n      this.cartonToDelete = carton;\r\n    },\r\n    async deleteCarton() {\r\n      if (!this.cartonToDelete) return;\r\n\r\n      this.deleting = true;\r\n      try {\r\n        const cartonRef = doc(db, 'cartones', this.cartonToDelete.id);\r\n        await deleteDoc(cartonRef);\r\n        this.$toast.success(`Cartón ${this.cartonToDelete.serial} eliminado correctamente.`);\r\n        this.cartonToDelete = null;\r\n        await this.loadCartones(); // Refrescar la lista\r\n      } catch (error) {\r\n        console.error('Error al eliminar el cartón:', error);\r\n        this.$toast.error('Error al eliminar el cartón: ' + error.message);\r\n      } finally {\r\n        this.deleting = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Tailwind maneja los estilos */\r\n</style>\r\n```"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}