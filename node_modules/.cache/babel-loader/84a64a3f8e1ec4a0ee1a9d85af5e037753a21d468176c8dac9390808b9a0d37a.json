{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\",\n  class: \"min-h-screen bg-gray-100\"\n};\nconst _hoisted_2 = {\n  class: \"bg-blue-600 text-white p-4 shadow-md\"\n};\nconst _hoisted_3 = {\n  class: \"container mx-auto flex justify-between items-center\"\n};\nconst _hoisted_4 = {\n  class: \"space-x-4\"\n};\nconst _hoisted_5 = {\n  class: \"container mx-auto p-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Navegaci칩n \"), _createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", {\n    class: \"text-3xl font-bold\"\n  }, \"Venta de Cartones\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/subir-cartones\",\n    class: \"hover:text-blue-200\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"Subir Cartones\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/asignar-cartones\",\n    class: \"hover:text-blue-200\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Asignar Cartones\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/lista-cartones\",\n    class: \"hover:text-blue-200\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Lista de Cartones\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/vendedores\",\n    class: \"hover:text-blue-200\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Vendedores\")])),\n    _: 1 /* STABLE */\n  })])])]), _createCommentVNode(\" Contenido principal \"), _createElementVNode(\"main\", _hoisted_5, [_createVNode(_component_router_view, {\n    onCheckDuplicates: $options.checkDuplicates,\n    onImagesUploaded: $options.handleImagesUploaded\n  }, null, 8 /* PROPS */, [\"onCheckDuplicates\", \"onImagesUploaded\"])])]);\n}","map":{"version":3,"names":["id","class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_hoisted_5","_component_router_view","onCheckDuplicates","$options","checkDuplicates","onImagesUploaded","handleImagesUploaded"],"sources":["D:\\Lotweb\\venta-cartones\\src\\App.vue"],"sourcesContent":["```vue\n   <template>\n     <div id=\"app\" class=\"min-h-screen bg-gray-100\">\n       <!-- Navegaci칩n -->\n       <nav class=\"bg-blue-600 text-white p-4 shadow-md\">\n         <div class=\"container mx-auto flex justify-between items-center\">\n           <h1 class=\"text-3xl font-bold\">Venta de Cartones</h1>\n           <div class=\"space-x-4\">\n             <router-link to=\"/subir-cartones\" class=\"hover:text-blue-200\">Subir Cartones</router-link>\n             <router-link to=\"/asignar-cartones\" class=\"hover:text-blue-200\">Asignar Cartones</router-link>\n             <router-link to=\"/lista-cartones\" class=\"hover:text-blue-200\">Lista de Cartones</router-link>\n             <router-link to=\"/vendedores\" class=\"hover:text-blue-200\">Vendedores</router-link>\n           </div>\n         </div>\n       </nav>\n\n       <!-- Contenido principal -->\n       <main class=\"container mx-auto p-4\">\n         <router-view @check-duplicates=\"checkDuplicates\" @images-uploaded=\"handleImagesUploaded\"></router-view>\n       </main>\n     </div>\n   </template>\n\n   <script>\n   import { db } from './firebase';\n   import { collection, query, where, getDocs, addDoc } from 'firebase/firestore';\n\n   export default {\n     methods: {\n       async checkDuplicates({ serials, files }, callback) {\n         try {\n           console.log('Verificando duplicados para seriales:', serials);\n           const cartonesRef = collection(db, 'cartones');\n           const q = query(cartonesRef, where('serial', 'in', serials));\n           const querySnapshot = await getDocs(q);\n           const existingSerials = querySnapshot.docs.map(doc => doc.data().serial);\n           console.log('Seriales existentes en Firestore:', existingSerials);\n           const nonDuplicates = files.filter(file => !existingSerials.includes(file.name.split('.')[0]));\n           console.log('Archivos no duplicados:', nonDuplicates);\n           callback(nonDuplicates);\n         } catch (error) {\n           console.error('Error al verificar duplicados:', error);\n           alert('Error al verificar duplicados: ' + error.message);\n           callback([]);\n         }\n       },\n       async handleImagesUploaded(images) {\n         try {\n           console.log('Guardando im치genes en Firestore:', images);\n           for (const image of images) {\n             const docRef = await addDoc(collection(db, 'cartones'), {\n               serial: image.serial,\n               imageUrl: image.imageUrl,\n               estado: 'disponible',\n               createdAt: new Date(),\n               vendedorId: null\n             });\n             console.log(`Cart칩n ${image.serial} guardado con ID:`, docRef.id);\n           }\n           alert('Todos los cartones se guardaron exitosamente en Firestore');\n         } catch (error) {\n           console.error('Error al guardar los cartones:', error);\n           alert('Error al guardar en Firestore: ' + error.message);\n         }\n       }\n     }\n   };\n   </script>\n\n   <style scoped>\n   /* Tailwind maneja los estilos */\n   </style>\n   ```"],"mappings":";;EAEUA,EAAE,EAAC,KAAK;EAACC,KAAK,EAAC;;;EAEbA,KAAK,EAAC;AAAsC;;EAC1CA,KAAK,EAAC;AAAqD;;EAEzDA,KAAK,EAAC;AAAW;;EAUpBA,KAAK,EAAC;AAAuB;;;;uBAfrCC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJC,mBAAA,gBAAmB,EACnBC,mBAAA,CAUM,OAVNC,UAUM,GATJD,mBAAA,CAQM,OARNE,UAQM,G,0BAPJF,mBAAA,CAAqD;IAAjDJ,KAAK,EAAC;EAAoB,GAAC,mBAAiB,sBAChDI,mBAAA,CAKM,OALNG,UAKM,GAJJC,YAAA,CAA0FC,sBAAA;IAA7EC,EAAE,EAAC,iBAAiB;IAACV,KAAK,EAAC;;IARrDW,OAAA,EAAAC,QAAA,CAQ2E,MAAcC,MAAA,QAAAA,MAAA,OARzFC,gBAAA,CAQ2E,gBAAc,E;IARzFC,CAAA;MASaP,YAAA,CAA8FC,sBAAA;IAAjFC,EAAE,EAAC,mBAAmB;IAACV,KAAK,EAAC;;IATvDW,OAAA,EAAAC,QAAA,CAS6E,MAAgBC,MAAA,QAAAA,MAAA,OAT7FC,gBAAA,CAS6E,kBAAgB,E;IAT7FC,CAAA;MAUaP,YAAA,CAA6FC,sBAAA;IAAhFC,EAAE,EAAC,iBAAiB;IAACV,KAAK,EAAC;;IAVrDW,OAAA,EAAAC,QAAA,CAU2E,MAAiBC,MAAA,QAAAA,MAAA,OAV5FC,gBAAA,CAU2E,mBAAiB,E;IAV5FC,CAAA;MAWaP,YAAA,CAAkFC,sBAAA;IAArEC,EAAE,EAAC,aAAa;IAACV,KAAK,EAAC;;IAXjDW,OAAA,EAAAC,QAAA,CAWuE,MAAUC,MAAA,QAAAA,MAAA,OAXjFC,gBAAA,CAWuE,YAAU,E;IAXjFC,CAAA;YAgBOZ,mBAAA,yBAA4B,EAC5BC,mBAAA,CAEO,QAFPY,UAEO,GADLR,YAAA,CAAuGS,sBAAA;IAAzFC,iBAAgB,EAAEC,QAAA,CAAAC,eAAe;IAAGC,gBAAe,EAAEF,QAAA,CAAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}